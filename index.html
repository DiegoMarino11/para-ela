<script>

/* ===== M√öSICA ===== */

const musica = document.getElementById("musica");
const playPause = document.getElementById("playPause");
const botao = document.getElementById("botaoEntrar");
const entrada = document.getElementById("entrada");

function fadeInAudio(){
  musica.volume = 0;
  musica.play();
  playPause.classList.add("playing");

  let vol = 0;
  let fade = setInterval(()=>{
    if(vol < 1){
      vol += 0.05;
      musica.volume = vol;
    } else {
      clearInterval(fade);
    }
  },200);
}

function soltarCoracoes(){
  const emojis=["‚ù§Ô∏è","üíñ","üíò","üíù","üíï","üíó","üíû"];
  for(let i=0;i<30;i++){
    const c=document.createElement("div");
    c.className="coracao";
    c.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    c.style.left=Math.random()*100+"vw";
    c.style.bottom=(Math.random()*40-20)+"px";
    const duracao=5+Math.random()*5;
    c.style.animationDuration=duracao+"s";
    const deslocamento=(Math.random()*100-50)+"px";
    c.style.setProperty("--deslocamento",deslocamento);
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),duracao*1000);
  }
}

botao.onclick=function(){
  soltarCoracoes();
  setTimeout(()=>{
    entrada.style.display="none";
    fadeInAudio();
  },1000);
};

playPause.onclick=function(){
  if(musica.paused){
    musica.play();
    playPause.innerText="‚è∏";
    playPause.classList.add("playing");
  } else {
    musica.pause();
    playPause.innerText="‚ñ∂";
    playPause.classList.remove("playing");
  }
};

/* ===== CARROSSEL CROSSFADE REAL ===== */

const fotos=[
"foto1.jpg","foto2.jpeg","foto3.jpeg","foto4.jpeg",
"foto5.jpeg","foto6.jpeg","foto7.jpeg","foto8.jpeg",
"foto9.jpeg","foto10.jpeg","foto11.jpeg","foto12.jpeg",
"foto13.jpeg","foto14.jpeg","foto15.jpeg","foto16.jpeg","foto17.jpeg"
];

let indice = 0;
let imgA = document.getElementById("imgA");
let imgB = document.getElementById("imgB");
let usandoA = true;

function trocarImagem(novoIndice){

  indice = novoIndice;

  let atual = usandoA ? imgA : imgB;
  let proxima = usandoA ? imgB : imgA;

  proxima.src = fotos[indice];

  proxima.classList.remove("inativo");
  proxima.classList.add("ativo");

  atual.classList.remove("ativo");
  atual.classList.add("inativo");

  usandoA = !usandoA;
}

function proximaFoto(){
  trocarImagem((indice+1)%fotos.length);
}

function anterior(){
  trocarImagem((indice-1+fotos.length)%fotos.length);
}

setInterval(proximaFoto,5000);

</script>
